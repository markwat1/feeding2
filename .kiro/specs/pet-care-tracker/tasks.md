# 実装計画

- [x] 1. プロジェクト構造とコア設定の初期化

  - Node.js/TypeScript プロジェクトの初期化と package.json 設定
  - フロントエンド（React）とバックエンド（Express）のディレクトリ構造作成
  - TypeScript 設定ファイルと ESLint/Prettier 設定
  - _要件: 7.1_

- [x] 2. データベーススキーマとモデルの実装

  - SQLite データベース接続設定とマイグレーション機能
  - データベーステーブル作成（feed_types, pets, feeding_schedules, feeding_records, weight_records, maintenance_records）
  - TypeScript 型定義とインターフェースの実装
  - _要件: 1.1, 2.1, 4.1, 6.3_

- [x] 3. バックエンド API の基盤実装

  - Express サーバーの基本設定とミドルウェア設定
  - データベース操作用のリポジトリパターン実装
  - エラーハンドリングミドルウェアの実装
  - _要件: 1.1, 2.1, 4.1, 6.1_

- [x] 4. 餌管理機能の API 実装

  - 餌の種類 CRUD API（GET /api/feeds, POST /api/feeds）
  - 餌やりスケジュール API（GET /api/feeding-schedules, POST /api/feeding-schedules）
  - 餌やり記録 API（GET /api/feeding-records, POST /api/feeding-records, PUT /api/feeding-records/:id）
  - _要件: 1.1, 1.2, 2.1, 2.2, 2.3, 3.2_

- [x] 4.1 餌管理 API の単体テスト作成

  - 餌の種類登録・取得のテストケース
  - 餌やり記録作成・更新のテストケース
  - _要件: 1.1, 2.1, 3.2_

- [x] 5. ペット管理機能の API 実装

  - ペット CRUD API（GET /api/pets, POST /api/pets）
  - 体重記録 API（GET /api/pets/:id/weights, POST /api/pets/:id/weights）
  - 体重データの小数点以下 2 桁バリデーション
  - _要件: 4.1, 4.2, 4.3_

- [x] 5.1 ペット管理 API の単体テスト作成

  - ペット登録・取得のテストケース
  - 体重記録作成・取得のテストケース
  - _要件: 4.1, 4.2, 4.3_

- [x] 6. メンテナンス機能の API 実装

  - メンテナンス記録 API（GET /api/maintenance, POST /api/maintenance/water-filter, POST /api/maintenance/litter-box）
  - メンテナンス種別の適切な処理とバリデーション
  - _要件: 6.1, 6.2, 6.3_

- [x] 6.1 メンテナンス API の単体テスト作成

  - 給水器フィルター交換記録のテストケース
  - トイレ砂交換記録のテストケース
  - _要件: 6.1, 6.2_

- [x] 7. フロントエンド基盤の実装

  - React アプリケーションの初期化とルーティング設定
  - API 通信用の Axios 設定とエラーハンドリング
  - 共通コンポーネント（ボタン、フォーム要素）の実装
  - _要件: 7.1_

- [x] 8. 餌やり記録画面の実装

  - FeedingRecordForm コンポーネントの実装
  - 餌の種類選択ドロップダウンの実装
  - 最も近いスケジュール時刻の自動設定機能
  - 前回の摂食状況記録フォーム（未記録時のみ表示）
  - _要件: 1.2, 2.2, 3.1, 7.1, 7.2_

- [ ] 8.1 餌やり記録画面のコンポーネントテスト

  - フォーム入力とバリデーションのテスト
  - 餌の種類選択機能のテスト
  - _要件: 1.2, 2.2_

- [ ] 9. カレンダー表示機能の実装

  - CalendarView コンポーネントの基本実装
  - 月間カレンダーの表示ロジック
  - その日のすべての餌やり記録を時刻付きで表示
  - 餌やり記録の色分け表示（緑：完食、黄：残食、グレー：未記録）
  - 体重記録とメンテナンス記録の表示
  - _要件: 5.1, 5.2, 5.3, 5.4, 5.5, 5.6, 5.7_

- [ ] 9.2 カレンダー詳細モーダル機能の実装

  - 日付クリックで詳細モーダル表示機能
  - その日のすべての記録（餌やり、体重、メンテナンス）を分類表示
  - 摂食状況のワンクリック切り替え機能
  - _要件: 5.1.1, 5.1.2, 5.1.3, 5.1.4_

- [ ] 9.3 カレンダー記録編集・削除機能の実装

  - 詳細モーダルでのインライン編集フォーム
  - 餌の種類と時刻の編集機能
  - 餌やり記録の削除機能（確認ダイアログ付き）
  - 編集・削除操作の成功・失敗メッセージ表示
  - _要件: 5.2.1, 5.2.2, 5.2.3, 5.2.4, 5.2.5, 5.2.6_

- [ ] 9.4 カレンダー機能のAPI拡張

  - 餌やり記録更新API（PUT /api/feeding-records/:id）の実装
  - 餌やり記録削除API（DELETE /api/feeding-records/:id）の実装
  - 期間指定での記録取得API（GET /api/feeding-records/date-range）の実装
  - _要件: 5.2.1, 5.2.4_

- [ ] 9.1 カレンダー表示のコンポーネントテスト

  - カレンダー表示ロジックのテスト
  - 記録データの色分け表示テスト
  - _要件: 5.3, 5.4, 5.5_

- [ ] 10. ペット管理画面の実装

  - PetManagement コンポーネントの実装
  - ペット個体の登録・編集フォーム
  - 体重記録の入力フォーム（kg 単位、小数点以下 2 桁）
  - 体重履歴の表示機能
  - _要件: 4.1, 4.2, 4.3, 4.4_

- [ ] 10.1 ペット管理画面のコンポーネントテスト

  - ペット登録フォームのテスト
  - 体重記録入力のバリデーションテスト
  - _要件: 4.2, 4.3_

- [ ] 11. メンテナンス記録画面の実装

  - MaintenanceRecord コンポーネントの実装
  - 給水器フィルター交換記録フォーム
  - トイレ砂交換記録フォーム
  - メンテナンス履歴の表示機能
  - _要件: 6.1, 6.2, 6.4_

- [ ] 11.1 メンテナンス記録画面のコンポーネントテスト

  - メンテナンス記録フォームのテスト
  - 履歴表示機能のテスト
  - _要件: 6.1, 6.2, 6.4_

- [ ] 12. アプリケーション統合とナビゲーション

  - メインアプリケーションコンポーネントの実装
  - 画面間のナビゲーション機能
  - 餌やり記録画面を初期画面として設定
  - 全体的なスタイリングとレスポンシブ対応
  - _要件: 7.1_

- [ ] 12.1 統合テストの実装
  - 餌やり記録から表示までの完全なフローテスト
  - カレンダー表示の統合テスト
  - _要件: 2.1, 5.1_
